<a href="/" style="display:inline-block; margin-bottom:15px;">
  ‚Üê Return to Main Hub
</a>

<h2>Hard Drive Usable Space Calculator</h2>

<p>
  Hard drive manufacturers use decimal units (1 TB = 1,000,000,000,000 bytes),
  while operating systems often report space in binary units (1 TiB = 1,099,511,627,776 bytes).
  Formatting overhead and reserved system space reduce usable capacity.
</p>

<form method="post">
  Advertised capacity:
  <input name="capacity_value" type="number" step="0.01" min="0" required value="1">
  <select name="capacity_unit">
    <option value="TB" selected>TB</option>
    <option value="GB">GB</option>
  </select>
  <br><br>

  Formatting overhead (%):
  <input name="overhead_percent" type="number" step="0.1" min="0" value="7">
  <br><br>

  Reserved system space (GB):
  <input name="reserved_gb" type="number" step="0.1" min="0" value="0">
  <br><br>

  <button type="submit">Calculate</button>
</form>

{% if error %}
<p style="color:red;"><strong>{{ error }}</strong></p>
{% endif %}

{% if result %}
<h3>Results</h3>
<ul>
  <li>Total advertised (decimal): {{ "%.2f"|format(result.total_bytes / 1e9) }} GB</li>
  <li>Total advertised (binary): {{ "%.2f"|format(result.binary_capacity_gib) }} GiB</li>
  <li>After formatting overhead: {{ "%.2f"|format(result.formatted_bytes / 1e9) }} GB</li>
  <li>Reserved system space: {{ "%.2f"|format(result.reserved_bytes / 1e9) }} GB</li>
  <li><strong>Usable (decimal):</strong> {{ "%.2f"|format(result.usable_decimal_gb) }} GB ({{ "%.3f"|format(result.usable_decimal_tb) }} TB)</li>
  <li><strong>Usable (binary):</strong> {{ "%.2f"|format(result.usable_binary_gib) }} GiB ({{ "%.3f"|format(result.usable_binary_tib) }} TiB)</li>
</ul>
{% endif %}
